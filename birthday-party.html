<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>üéâ Birthday Party Magic - Creative Stage</title>
    <meta name="description" content="Unforgettable creative birthday parties with custom themes, art activities, and mess-free fun for ages 4-12. Complete party packages available.">
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Fredoka+One:wght@400&family=Open+Sans:wght@400;600;700&family=Pacifico&display=swap" rel="stylesheet">
    
    <!-- CSS -->
    <link rel="stylesheet" href="styles/main.css">
    
    <!-- EMBEDDED PARTY FORM STYLES -->
    <style>
        /* STUNNING PARTY BOOKING FORM - EMBEDDED FOR RELIABILITY */
        .party-booking-section {
            padding: 60px 20px;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            min-height: 100vh;
            position: relative;
        }

        .party-booking-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="25" cy="25" r="2" fill="rgba(255,255,255,0.1)"/><circle cx="75" cy="75" r="1.5" fill="rgba(255,255,255,0.15)"/><circle cx="50" cy="10" r="1" fill="rgba(255,255,255,0.2)"/><circle cx="10" cy="60" r="2.5" fill="rgba(255,255,255,0.08)"/><circle cx="90" cy="40" r="1.2" fill="rgba(255,255,255,0.12)"/></svg>') repeat;
            opacity: 0.6;
            pointer-events: none;
            animation: sparkleBackground 10s linear infinite;
        }

        .party-booking-card {
            max-width: 900px;
            margin: 0 auto;
            background: white;
            border-radius: 30px;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.3);
            overflow: hidden;
            position: relative;
            z-index: 1;
        }

        /* MAGICAL HEADER */
        .party-form-header {
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 30%, #45b7d1 60%, #96ceb4 100%);
            padding: 50px 40px;
            position: relative;
            overflow: hidden;
            text-align: center;
            color: white;
        }

        .party-form-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: radial-gradient(circle at 20% 50%, rgba(255,255,255,0.2) 0%, transparent 50%), 
                        radial-gradient(circle at 80% 50%, rgba(255,255,255,0.15) 0%, transparent 50%),
                        radial-gradient(circle at 40% 40%, rgba(255,255,255,0.1) 0%, transparent 50%);
            opacity: 0.8;
        }

        .header-decorations {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
            overflow: hidden;
        }

        .party-balloon {
            position: absolute;
            font-size: 3rem;
            animation: floatParty 4s ease-in-out infinite;
            opacity: 0.9;
            filter: drop-shadow(0 4px 8px rgba(0,0,0,0.2));
        }

        .balloon-1 { top: 15%; left: 5%; animation-delay: 0s; }
        .balloon-2 { top: 20%; right: 8%; animation-delay: 1s; }
        .balloon-3 { bottom: 15%; left: 10%; animation-delay: 2s; }
        .balloon-4 { bottom: 20%; right: 5%; animation-delay: 3s; }

        .header-sparkles {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            pointer-events: none;
        }

        .sparkle {
            position: absolute;
            font-size: 2rem;
            animation: twinkleParty 3s ease-in-out infinite;
            opacity: 0.8;
        }

        .sparkle-1 { top: 25%; left: 30%; animation-delay: 0.5s; }
        .sparkle-2 { top: 40%; right: 25%; animation-delay: 1.5s; }
        .sparkle-3 { bottom: 30%; left: 60%; animation-delay: 2.5s; }

        .header-content {
            position: relative;
            z-index: 2;
        }

        .party-title-icon {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: bounceParty 3s ease-in-out infinite;
            display: block;
            filter: drop-shadow(0 4px 10px rgba(0,0,0,0.3));
        }

        .party-form-title {
            font-family: 'Fredoka One', cursive;
            font-size: 3rem;
            margin: 0 0 20px 0;
            text-shadow: 0 4px 15px rgba(0,0,0,0.3);
            letter-spacing: -1px;
            line-height: 1.1;
        }

        .party-form-subtitle {
            font-size: 1.3rem;
            line-height: 1.6;
            opacity: 0.95;
            max-width: 600px;
            margin: 0 auto;
            text-shadow: 0 2px 8px rgba(0,0,0,0.2);
            font-weight: 500;
        }

        /* SUCCESS BANNER */
        .party-success-banner {
            margin: 30px;
            background: linear-gradient(135deg, #10b981 0%, #059669 50%, #065f46 100%);
            border-radius: 25px;
            padding: 40px;
            color: white;
            text-align: center;
            box-shadow: 0 15px 40px rgba(16, 185, 129, 0.4);
            animation: successSlideParty 1s ease-out;
            position: relative;
            overflow: hidden;
        }

        .party-success-banner::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><circle cx="20" cy="20" r="1" fill="rgba(255,255,255,0.2)"/><circle cx="80" cy="30" r="1.5" fill="rgba(255,255,255,0.15)"/><circle cx="60" cy="70" r="1.2" fill="rgba(255,255,255,0.18)"/></svg>') repeat;
            opacity: 0.5;
        }

        .success-animation {
            animation: successPulseParty 2s ease-in-out infinite;
            position: relative;
            z-index: 1;
        }

        .success-icon-large {
            font-size: 5rem;
            margin-bottom: 20px;
            animation: celebrationSpinParty 4s ease-in-out infinite;
            display: block;
        }

        .success-title {
            font-family: 'Fredoka One', cursive;
            font-size: 2.2rem;
            margin: 0 0 15px 0;
        }

        .success-message {
            font-size: 1.2rem;
            line-height: 1.7;
            margin: 0 0 25px 0;
            opacity: 0.95;
        }

        .success-decorations {
            display: flex;
            justify-content: center;
            gap: 30px;
        }

        .success-emoji {
            font-size: 2.5rem;
            animation: bounceParty 2.5s ease-in-out infinite;
        }

        .success-emoji:nth-child(1) { animation-delay: 0s; }
        .success-emoji:nth-child(2) { animation-delay: 0.8s; }
        .success-emoji:nth-child(3) { animation-delay: 1.6s; }

        /* FORM CONTAINER */
        .party-form-container {
            padding: 50px;
            background: linear-gradient(145deg, #f8fafc 0%, #ffffff 100%);
        }

        /* FORM SECTIONS */
        .form-section {
            margin-bottom: 40px;
            padding: 35px;
            background: white;
            border-radius: 25px;
            border: 3px solid transparent;
            background-image: linear-gradient(white, white), linear-gradient(135deg, #ff6b6b, #4ecdc4, #45b7d1);
            background-origin: border-box;
            background-clip: content-box, border-box;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
            position: relative;
            overflow: hidden;
        }

        .form-section::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 6px;
            background: linear-gradient(90deg, #ff6b6b 0%, #4ecdc4 50%, #45b7d1 100%);
            border-radius: 25px 25px 0 0;
        }

        .section-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .section-title {
            font-family: 'Fredoka One', cursive;
            font-size: 1.8rem;
            color: #ff6b6b;
            margin: 0 0 8px 0;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
        }

        .section-subtitle {
            color: #6b7280;
            font-size: 1.1rem;
            margin: 0;
            font-style: italic;
            font-weight: 500;
        }

        /* FORM LAYOUT */
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 25px;
            margin-bottom: 20px;
        }

        .form-field {
            margin-bottom: 25px;
        }

        .field-label {
            display: flex;
            align-items: center;
            gap: 10px;
            font-weight: 700;
            color: #374151;
            margin-bottom: 12px;
            font-size: 1.1rem;
        }

        .label-icon {
            font-size: 1.5rem;
            opacity: 0.8;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.1));
        }

        /* INPUT STYLING */
        .input-container,
        .select-container,
        .textarea-container {
            position: relative;
            margin-bottom: 8px;
        }

        .party-input,
        .party-select,
        .party-textarea {
            width: 100%;
            padding: 18px 25px;
            border: 3px solid #e2e8f0;
            border-radius: 20px;
            font-size: 1.1rem;
            font-family: 'Open Sans', sans-serif;
            background: white;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
            font-weight: 500;
        }

        .party-input:focus,
        .party-select:focus,
        .party-textarea:focus {
            outline: none;
            border-color: #ff6b6b;
            box-shadow: 0 0 0 6px rgba(255, 107, 107, 0.2), 0 8px 25px rgba(0, 0, 0, 0.15);
            transform: translateY(-3px);
            background: #fefefe;
        }

        .party-textarea {
            resize: vertical;
            min-height: 120px;
            line-height: 1.7;
        }

        .input-decoration,
        .textarea-decoration {
            position: absolute;
            bottom: -3px;
            left: 50%;
            width: 0;
            height: 4px;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            transition: all 0.4s ease;
            transform: translateX(-50%);
            border-radius: 4px;
        }

        .party-input:focus + .input-decoration,
        .party-textarea:focus + .textarea-decoration {
            width: 100%;
        }

        /* SELECT STYLING */
        .party-select {
            appearance: none;
            cursor: pointer;
            padding-right: 50px;
        }

        .select-arrow {
            position: absolute;
            right: 20px;
            top: 50%;
            transform: translateY(-50%);
            pointer-events: none;
            color: #6b7280;
            font-size: 1rem;
            font-weight: bold;
            transition: all 0.3s ease;
        }

        .party-select:focus + .select-arrow {
            color: #ff6b6b;
            transform: translateY(-50%) rotate(180deg);
        }

        /* PACKAGE SELECTION */
        .package-options {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }

        .package-option {
            position: relative;
        }

        .package-radio {
            position: absolute;
            opacity: 0;
            pointer-events: none;
        }

        .package-card {
            display: block;
            padding: 30px;
            background: white;
            border: 3px solid #e2e8f0;
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.08);
        }

        .package-card:hover {
            border-color: #ff6b6b;
            box-shadow: 0 8px 30px rgba(255, 107, 107, 0.25);
            transform: translateY(-5px);
        }

        .package-radio:checked + .package-card {
            border-color: #ff6b6b;
            background: linear-gradient(135deg, rgba(255, 107, 107, 0.08), rgba(78, 205, 196, 0.08));
            box-shadow: 0 10px 40px rgba(255, 107, 107, 0.4);
            transform: translateY(-8px);
        }

        .package-card.premium {
            border-color: #f59e0b;
            position: relative;
        }

        .package-radio:checked + .package-card.premium {
            border-color: #f59e0b;
            background: linear-gradient(135deg, rgba(245, 158, 11, 0.12), rgba(255, 107, 107, 0.08));
            box-shadow: 0 10px 40px rgba(245, 158, 11, 0.4);
        }

        .premium-badge {
            position: absolute;
            top: -12px;
            right: 20px;
            background: linear-gradient(135deg, #f59e0b, #f97316);
            color: white;
            padding: 8px 16px;
            border-radius: 15px;
            font-size: 0.9rem;
            font-weight: 700;
            box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4);
            animation: glowParty 3s ease-in-out infinite alternate;
            text-transform: uppercase;
            letter-spacing: 0.5px;
        }

        .package-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }

        .package-header h5 {
            margin: 0;
            font-size: 1.4rem;
            color: #374151;
            font-family: 'Fredoka One', cursive;
            font-weight: 400;
        }

        .package-price {
            font-size: 1.3rem;
            font-weight: 700;
            color: #10b981;
            font-family: 'Fredoka One', cursive;
        }

        .package-details {
            margin: 0;
            color: #6b7280;
            font-size: 1rem;
            font-weight: 500;
        }

        /* SUBMIT SECTION */
        .form-submit-section {
            text-align: center;
            padding-top: 40px;
            border-top: 3px solid rgba(255, 107, 107, 0.2);
            margin-top: 40px;
        }

        .party-submit-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            background: linear-gradient(135deg, #ff6b6b 0%, #4ecdc4 30%, #45b7d1 70%, #96ceb4 100%);
            color: white;
            border: none;
            border-radius: 50px;
            padding: 20px 50px;
            font-size: 1.3rem;
            font-weight: 700;
            font-family: 'Fredoka One', cursive;
            cursor: pointer;
            transition: all 0.4s ease;
            box-shadow: 0 10px 35px rgba(255, 107, 107, 0.5);
            position: relative;
            overflow: hidden;
            min-width: 320px;
            text-transform: uppercase;
            letter-spacing: 1px;
        }

        .party-submit-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
            transition: left 0.8s ease;
        }

        .party-submit-btn:hover:not(:disabled) {
            transform: translateY(-5px) scale(1.05);
            box-shadow: 0 15px 50px rgba(255, 107, 107, 0.6);
        }

        .party-submit-btn:hover:not(:disabled)::before {
            left: 100%;
        }

        .party-submit-btn:active {
            transform: translateY(-2px) scale(1.02);
        }

        .party-submit-btn:disabled {
            opacity: 0.8;
            cursor: not-allowed;
            transform: none;
        }

        .btn-icon,
        .btn-decoration {
            font-size: 1.5rem;
            filter: drop-shadow(0 2px 4px rgba(0,0,0,0.2));
        }

        .btn-text {
            font-size: 1.2rem;
        }

        .submit-note {
            margin-top: 25px;
            color: #6b7280;
            font-size: 1rem;
            line-height: 1.6;
            max-width: 550px;
            margin-left: auto;
            margin-right: auto;
            font-weight: 500;
        }

        /* ANIMATIONS */
        @keyframes floatParty {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            25% { transform: translateY(-15px) rotate(2deg); }
            50% { transform: translateY(-8px) rotate(-1deg); }
            75% { transform: translateY(-12px) rotate(1deg); }
        }

        @keyframes twinkleParty {
            0%, 100% { opacity: 0.4; transform: scale(1) rotate(0deg); }
            25% { opacity: 0.8; transform: scale(1.2) rotate(90deg); }
            50% { opacity: 1; transform: scale(1.4) rotate(180deg); }
            75% { opacity: 0.6; transform: scale(1.1) rotate(270deg); }
        }

        @keyframes bounceParty {
            0%, 20%, 50%, 80%, 100% { transform: translateY(0); }
            10% { transform: translateY(-8px) rotate(-2deg); }
            30% { transform: translateY(-12px) rotate(1deg); }
            40% { transform: translateY(-15px) rotate(-1deg); }
            60% { transform: translateY(-8px) rotate(2deg); }
        }

        @keyframes successSlideParty {
            0% { opacity: 0; transform: translateY(-30px) scale(0.8); }
            100% { opacity: 1; transform: translateY(0) scale(1); }
        }

        @keyframes successPulseParty {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.03); }
        }

        @keyframes celebrationSpinParty {
            0% { transform: rotate(0deg) scale(1); }
            25% { transform: rotate(-8deg) scale(1.1); }
            50% { transform: rotate(0deg) scale(1.2); }
            75% { transform: rotate(8deg) scale(1.1); }
            100% { transform: rotate(0deg) scale(1); }
        }

        @keyframes glowParty {
            0% { box-shadow: 0 4px 15px rgba(245, 158, 11, 0.4); }
            100% { box-shadow: 0 4px 25px rgba(245, 158, 11, 0.7), 0 0 30px rgba(245, 158, 11, 0.3); }
        }

        @keyframes sparkleBackground {
            0% { transform: translateX(0px); }
            100% { transform: translateX(100px); }
        }

        /* MOBILE RESPONSIVENESS */
        @media (max-width: 768px) {
            .party-booking-section {
                padding: 30px 15px;
            }
            
            .party-booking-card {
                margin: 0 10px;
                border-radius: 25px;
            }
            
            .party-form-header {
                padding: 35px 25px;
            }
            
            .party-form-title {
                font-size: 2.2rem;
            }
            
            .party-form-subtitle {
                font-size: 1.1rem;
            }
            
            .party-form-container {
                padding: 30px 25px;
            }
            
            .form-section {
                padding: 25px 20px;
            }
            
            .form-row {
                grid-template-columns: 1fr;
                gap: 15px;
            }
            
            .package-options {
                grid-template-columns: 1fr;
            }
            
            .party-submit-btn {
                min-width: auto;
                width: 100%;
                padding: 18px 30px;
                font-size: 1.1rem;
            }
            
            .party-balloon {
                font-size: 2rem;
            }
            
            .party-title-icon {
                font-size: 3.5rem;
            }

            .section-title {
                font-size: 1.5rem;
            }

            .package-header h5 {
                font-size: 1.2rem;
            }

            .package-price {
                font-size: 1.1rem;
            }
        }
    </style>
    
    <!-- Favicons -->
    <link rel="icon" type="image/svg+xml" href="assets/icons/favicon.svg">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="header-main">
            <nav class="navbar">
                <div class="navbar-brand">
                    <div class="logo">
                        üé® <span class="logo-text">Creative Stage</span> ‚ú®
                    </div>
                </div>
                
                <!-- Desktop Navigation -->
                <ul class="nav-menu" id="navMenu">
                    <li class="nav-item">
                        <a href="index.html" class="nav-link">Home</a>
                    </li>
                    <li class="nav-item">
                        <a href="preschool.html" class="nav-link">Preschool</a>
                    </li>
                    <li class="nav-item">
                        <a href="before-after-school.html" class="nav-link">Before & After School</a>
                    </li>
                    <li class="nav-item">
                        <a href="classes.html" class="nav-link">Classes</a>
                    </li>
                    <li class="nav-item">
                        <a href="birthday-party.html" class="nav-link active">Birthday Party</a>
                    </li>
                </ul>
                
                <!-- CTA Buttons -->
                <div class="nav-cta">
                    <a href="tel:+16047899523" class="btn btn-outline">üìû Call Now</a>
                    <a href="#booking" class="btn btn-primary">üéâ Book Party</a>
                </div>
                
                <!-- Mobile Menu Toggle -->
                <button class="mobile-toggle" id="mobileToggle">
                    <span></span>
                    <span></span>
                    <span></span>
                </button>
            </nav>
        </div>
    </header>

    <main>
        <!-- Hero Section -->
        <section class="hero party-hero">
            <div class="container">
                <div class="hero-content">
                    <div class="hero-text">
                        <span class="hero-badge">üéÇ Birthday Magic Awaits!</span>
                        <h1 class="hero-title">
                            Create <span class="text-highlight">Unforgettable</span> 
                            Birthday Celebrations with Art! üé®
                        </h1>
                        <p class="hero-description">
                            Transform your child's special day into a magical art adventure! Our custom birthday parties combine creativity, 
                            fun, and mess-free entertainment that creates lasting memories for kids and stress-free celebrations for parents.
                        </p>
                        <div class="hero-cta">
                            <a href="#booking" class="btn btn-primary btn-large">
                                üéâ Book Your Party Now
                            </a>
                            <a href="tel:+16047899523" class="btn btn-outline btn-large">
                                üìû Call (604) 789-9523
                            </a>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Party Booking Section -->
        <section id="booking" class="party-booking-section">
            <div class="container">
                <!-- STUNNING PARTY BOOKING FORM -->
                <div class="party-booking-card">
                    <!-- Magical Header -->
                    <div class="party-form-header">
                        <div class="header-decorations">
                            <div class="party-balloon balloon-1">üéà</div>
                            <div class="party-balloon balloon-2">üé®</div>
                            <div class="party-balloon balloon-3">‚ú®</div>
                            <div class="party-balloon balloon-4">üéÇ</div>
                        </div>
                        <div class="header-content">
                            <div class="party-title-icon">üéâ</div>
                            <h2 class="party-form-title">Book Your Dream Party</h2>
                            <p class="party-form-subtitle">Create magical memories with a custom art celebration designed just for your special child!</p>
                        </div>
                        <div class="header-sparkles">
                            <div class="sparkle sparkle-1">‚ú®</div>
                            <div class="sparkle sparkle-2">üåü</div>
                            <div class="sparkle sparkle-3">üí´</div>
                        </div>
                    </div>

                    <!-- Success Message -->
                    <div id="success-message" class="party-success-banner" style="display: none;">
                        <div class="success-animation">
                            <div class="success-icon-large">üéâ</div>
                            <h3 class="success-title">Booking Request Sent!</h3>
                            <p class="success-message">We're so excited to celebrate with you! We'll contact you within 24 hours to plan the perfect party experience.</p>
                            <div class="success-decorations">
                                <span class="success-emoji">üé®</span>
                                <span class="success-emoji">üéà</span>
                                <span class="success-emoji">‚ú®</span>
                            </div>
                        </div>
                    </div>

                    <!-- Form Content -->
                    <div class="party-form-container">
                        <form class="party-booking-form" onsubmit="submitPartyBooking(event)">
                            
                            <!-- Section 1: Birthday Child -->
                            <div class="form-section">
                                <div class="section-header">
                                    <h4 class="section-title">üéÇ Birthday Star</h4>
                                    <p class="section-subtitle">Tell us about the special birthday child</p>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-field">
                                        <label for="birthday-child" class="field-label">
                                            <span class="label-icon">üë∂</span>
                                            Child's Name
                                        </label>
                                        <div class="input-container">
                                            <input type="text" id="birthday-child" name="birthday-child" class="party-input" placeholder="Enter birthday child's name" required>
                                            <div class="input-decoration"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-field">
                                        <label for="child-age" class="field-label">
                                            <span class="label-icon">üéà</span>
                                            Age
                                        </label>
                                        <div class="select-container">
                                            <select id="child-age" name="child-age" class="party-select" required>
                                                <option value="">Select age</option>
                                                <option value="4">Turning 4</option>
                                                <option value="5">Turning 5</option>
                                                <option value="6">Turning 6</option>
                                                <option value="7">Turning 7</option>
                                                <option value="8">Turning 8</option>
                                                <option value="9">Turning 9</option>
                                                <option value="10">Turning 10</option>
                                                <option value="11">Turning 11</option>
                                                <option value="12">Turning 12</option>
                                            </select>
                                            <div class="select-arrow">‚ñº</div>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Section 2: Party Details -->
                            <div class="form-section">
                                <div class="section-header">
                                    <h4 class="section-title">üìÖ Party Details</h4>
                                    <p class="section-subtitle">When would you like to celebrate?</p>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-field">
                                        <label for="party-date" class="field-label">
                                            <span class="label-icon">üìÜ</span>
                                            Preferred Date
                                        </label>
                                        <div class="input-container">
                                            <input type="date" id="party-date" name="party-date" class="party-input" required>
                                            <div class="input-decoration"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-field">
                                        <label for="party-time" class="field-label">
                                            <span class="label-icon">‚è∞</span>
                                            Start Time
                                        </label>
                                        <div class="select-container">
                                            <select id="party-time" name="party-time" class="party-select" required>
                                                <option value="">Select time</option>
                                                <option value="10:00">10:00 AM</option>
                                                <option value="11:00">11:00 AM</option>
                                                <option value="12:00">12:00 PM</option>
                                                <option value="13:00">1:00 PM</option>
                                                <option value="14:00">2:00 PM</option>
                                                <option value="15:00">3:00 PM</option>
                                                <option value="16:00">4:00 PM</option>
                                            </select>
                                            <div class="select-arrow">‚ñº</div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-field">
                                    <label for="guest-count" class="field-label">
                                        <span class="label-icon">üë•</span>
                                        Number of Guests (including birthday child)
                                    </label>
                                    <div class="select-container">
                                        <select id="guest-count" name="guest-count" class="party-select" required>
                                            <option value="">Select number</option>
                                            <option value="6">6 children</option>
                                            <option value="8">8 children</option>
                                            <option value="10">10 children</option>
                                            <option value="12">12 children</option>
                                            <option value="15">15 children</option>
                                            <option value="other">More than 15 (we'll discuss options)</option>
                                        </select>
                                        <div class="select-arrow">‚ñº</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Section 3: Package Selection -->
                            <div class="form-section">
                                <div class="section-header">
                                    <h4 class="section-title">üéÅ Package Selection</h4>
                                    <p class="section-subtitle">Choose your celebration package</p>
                                </div>
                                
                                <div class="form-field">
                                    <label for="package-interest" class="field-label">
                                        <span class="label-icon">üì¶</span>
                                        Package Interest
                                    </label>
                                    <div class="package-options">
                                        <div class="package-option">
                                            <input type="radio" id="basic-package" name="package-interest" value="basic" class="package-radio">
                                            <label for="basic-package" class="package-card">
                                                <div class="package-header">
                                                    <h5>Basic Party Package</h5>
                                                    <span class="package-price">$350</span>
                                                </div>
                                                <p class="package-details">2 hours, up to 12 kids</p>
                                            </label>
                                        </div>
                                        <div class="package-option">
                                            <input type="radio" id="premium-package" name="package-interest" value="premium" class="package-radio">
                                            <label for="premium-package" class="package-card premium">
                                                <div class="package-header">
                                                    <h5>Premium Party Package</h5>
                                                    <span class="package-price">$450</span>
                                                </div>
                                                <p class="package-details">2 hours, up to 20 kids</p>
                                                <div class="premium-badge">Most Popular!</div>
                                            </label>
                                        </div>
                                        <div class="package-option">
                                            <input type="radio" id="custom-package" name="package-interest" value="custom" class="package-radio">
                                            <label for="custom-package" class="package-card">
                                                <div class="package-header">
                                                    <h5>Custom Package</h5>
                                                    <span class="package-price">Let's discuss!</span>
                                                </div>
                                                <p class="package-details">Tailored to your needs</p>
                                            </label>
                                        </div>
                                    </div>
                                </div>
                                
                            </div>

                            <!-- Section 4: Contact Information -->
                            <div class="form-section">
                                <div class="section-header">
                                    <h4 class="section-title">üìû Contact Information</h4>
                                    <p class="section-subtitle">How can we reach you?</p>
                                </div>
                                
                                <div class="form-row">
                                    <div class="form-field">
                                        <label for="parent-name" class="field-label">
                                            <span class="label-icon">üë§</span>
                                            Parent/Guardian Name
                                        </label>
                                        <div class="input-container">
                                            <input type="text" id="parent-name" name="parent-name" class="party-input" placeholder="Your full name" required>
                                            <div class="input-decoration"></div>
                                        </div>
                                    </div>
                                    
                                    <div class="form-field">
                                        <label for="parent-phone" class="field-label">
                                            <span class="label-icon">üì±</span>
                                            Phone Number
                                        </label>
                                        <div class="input-container">
                                            <input type="tel" id="parent-phone" name="parent-phone" class="party-input" placeholder="(604) 123-4567" required>
                                            <div class="input-decoration"></div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="form-field">
                                    <label for="parent-email" class="field-label">
                                        <span class="label-icon">üìß</span>
                                        Email Address
                                    </label>
                                    <div class="input-container">
                                        <input type="email" id="parent-email" name="parent-email" class="party-input" placeholder="your.email@example.com" required>
                                        <div class="input-decoration"></div>
                                    </div>
                                </div>
                            </div>

                            <!-- Section 5: Additional Details -->
                            <div class="form-section">
                                <div class="section-header">
                                    <h4 class="section-title">üí¨ Additional Details</h4>
                                    <p class="section-subtitle">Help us make it perfect</p>
                                </div>
                                
                                <div class="form-field">
                                    <label for="special-requests" class="field-label">
                                        <span class="label-icon">üí´</span>
                                        Special Requests or Custom Theme Details
                                    </label>
                                    <div class="textarea-container">
                                        <textarea id="special-requests" name="special-requests" class="party-textarea" placeholder="Tell us about your child's interests, any special accommodations needed, or custom theme ideas..." rows="4"></textarea>
                                        <div class="textarea-decoration"></div>
                                    </div>
                                </div>
                                
                                <div class="form-field">
                                    <label for="how-heard" class="field-label">
                                        <span class="label-icon">üëÇ</span>
                                        How did you hear about us?
                                    </label>
                                    <div class="select-container">
                                        <select id="how-heard" name="how-heard" class="party-select">
                                            <option value="">Select option</option>
                                            <option value="google">Google Search</option>
                                            <option value="facebook">Facebook</option>
                                            <option value="instagram">Instagram</option>
                                            <option value="friend">Friend/Family Referral</option>
                                            <option value="school">School/Daycare</option>
                                            <option value="previous">Previous Customer</option>
                                            <option value="other">Other</option>
                                        </select>
                                        <div class="select-arrow">‚ñº</div>
                                    </div>
                                </div>
                            </div>

                            <!-- Submit Button -->
                            <div class="form-submit-section">
                                <button type="submit" class="party-submit-btn">
                                    <span class="btn-icon">üöÄ</span>
                                    <span class="btn-text">Send Party Request</span>
                                    <span class="btn-decoration">‚ú®</span>
                                </button>
                                <p class="submit-note">We'll contact you within 24 hours to discuss details and confirm availability. A $100 deposit will secure your party date.</p>
                            </div>
                        </form>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section footer-brand">
                    <div class="footer-logo">
                        üé® <span class="logo-text">Creative Stage</span> ‚ú®
                    </div>
                    <p class="footer-description">
                        Making art magical since 2024.
                    </p>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-title">Programs</h3>
                    <ul class="footer-links">
                        <li><a href="preschool.html">Preschool (Ages 3-5)</a></li>
                        <li><a href="classes.html">Art Classes (Ages 5-17)</a></li>
                        <li><a href="before-after-school.html">Before & After Care</a></li>
                        <li><a href="birthday-party.html">Birthday Parties</a></li>
                    </ul>
                </div>
                
                <div class="footer-section">
                    <h3 class="footer-title">Contact Info</h3>
                    <div class="contact-info">
                        <p>üìç 1381 George St unit1, White Rock, BC V4B 2L1, Canada</p>
                        <p>üìû <a href="tel:+15551232787">(604) 789-9523</a></p>
                        <p>‚úâÔ∏è <a href="mailto:creativestage.art@gmail.com">creativestage.art@gmail.com</a></p>
                        <p>üì∏ <a href="https://www.instagram.com/creative_stage_art/" target="_blank" rel="noopener noreferrer">@creative_stage_art</a></p>
                        <p>üïí Parties: Weekends & Evenings</p>
                    </div>
                </div>
            </div>
            
            <div class="footer-bottom">
                <p>&copy; 2025 Creative Stage. Making art magical since 2024. üé®</p>
            </div>
        </div>
    </footer>

    <!-- JavaScript -->
    <script src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    
    <script>
        // Initialize EmailJS when library loads
        function initializeEmailJS() {
            if (typeof emailjs !== 'undefined') {
                console.log('‚úÖ EmailJS loaded successfully');
                emailjs.init("ALxlKW9NGkkffGF2z");
                console.log('‚úÖ EmailJS initialized with public key');
            } else {
                console.log('‚è≥ Waiting for EmailJS to load...');
                setTimeout(initializeEmailJS, 200);
            }
        }
        
        // Start initialization when DOM is ready
        document.addEventListener('DOMContentLoaded', initializeEmailJS);
        
        // Enhanced party booking form submission
        async function submitPartyBooking(event) {
            event.preventDefault();
            
            const form = event.target;
            const formData = new FormData(form);
            const button = form.querySelector('.party-submit-btn');
            const originalText = button.innerHTML;
            
            // Update button state
            button.innerHTML = `
                <span class="btn-icon">‚è≥</span>
                <span class="btn-text">Sending Request...</span>
                <span class="btn-decoration">‚ú®</span>
            `;
            button.disabled = true;
            
            try {
                // EmailJS configuration
                const serviceId = 'service_hztqnyv';
                const publicKey = 'ALxlKW9NGkkffGF2z';
                const templateId = 'template_vc6cs0h';
                
                console.log('üéØ Using template ID:', templateId);
                console.log('üìÖ Updated: 2025-01-01 - Cache busting update');
                
                // Enhanced email template parameters with better formatting
                const today = new Date().toLocaleDateString();
                const requestTime = new Date().toLocaleString();
                
                // Format party date
                const partyDateFormatted = new Date(formData.get('party-date')).toLocaleDateString('en-US', {
                    weekday: 'long',
                    year: 'numeric',
                    month: 'long',
                    day: 'numeric'
                });

                // Create comprehensive message with ALL information
                const fullMessage = `
========================================
üéâ BIRTHDAY PARTY BOOKING REQUEST
========================================

üìÖ Request Date: ${today}
‚è∞ Request Time: ${requestTime}

„Äê BIRTHDAY CHILD „Äë
‚Ä¢ Child's Name: ${formData.get('birthday-child')}
‚Ä¢ Age: ${formData.get('child-age')}

„Äê PARTY DETAILS „Äë
‚Ä¢ Preferred Date: ${partyDateFormatted}
‚Ä¢ Start Time: ${formData.get('party-time')}
‚Ä¢ Number of Guests: ${formData.get('guest-count')}
‚Ä¢ Package Interest: ${formData.get('package-interest')}
‚Ä¢ Theme Preference: ${formData.get('theme-preference') || 'Not specified'}

„Äê PARTY LOCATION „Äë
‚Ä¢ Location Type: ${formData.get('party-location') || 'Not specified'}
‚Ä¢ Address: ${formData.get('party-address') || 'Not provided'}

„Äê CONTACT INFORMATION „Äë
‚Ä¢ Parent/Guardian Name: ${formData.get('parent-name')}
‚Ä¢ Email: ${formData.get('parent-email')}
‚Ä¢ Phone: ${formData.get('parent-phone')}

„Äê ADDITIONAL DETAILS „Äë
‚Ä¢ Special Requests: ${formData.get('special-requests') || 'None'}
‚Ä¢ How did you hear about us: ${formData.get('how-heard') || 'Not specified'}

========================================
`;

                const templateParams = {
                    // Header Information
                    subject: `üéâ PARTY BOOKING REQUEST - ${formData.get('birthday-child')} (Age ${formData.get('child-age')})`,
                    request_date: today,
                    request_time: requestTime,

                    // Parent Contact Information
                    from_name: formData.get('parent-name'),
                    from_email: formData.get('parent-email'),
                    parent_phone: formData.get('parent-phone'),

                    // Party Details
                    child_name: formData.get('birthday-child'),
                    child_age: formData.get('child-age'),
                    party_date: partyDateFormatted,
                    party_time: formData.get('party-time'),
                    guest_count: formData.get('guest-count'),
                    theme_preference: formData.get('theme-preference') || 'Not specified',

                    // Location
                    party_location: formData.get('party-location') || 'Not specified',
                    party_address: formData.get('party-address') || 'Not provided',

                    // Package
                    package_interest: formData.get('package-interest'),

                    // Additional Information - PUT ALL INFO IN special_requests since it shows in email
                    special_requests: fullMessage,
                    how_heard: formData.get('how-heard') || 'Not specified',

                    // Full message backup
                    message: fullMessage,

                    // Business Information
                    to_email: 'creativestage.art@gmail.com',
                    business_name: 'Creative Stage',
                    business_location: 'White Rock, BC',
                    business_website: 'creativestage.art',

                    // Formatted Summary for Quick Reference
                    quick_summary: `${formData.get('birthday-child')} (${formData.get('child-age')}) ‚Ä¢ ${formData.get('guest-count')} guests ‚Ä¢ ${partyDateFormatted} ‚Ä¢ ${formData.get('package-interest')}`
                };
                
                console.log('üìß Sending email with params:', templateParams);
                
                // Validate EmailJS is loaded
                if (typeof emailjs === 'undefined') {
                    throw new Error('EmailJS library not loaded');
                }
                
                // Send email using EmailJS with correct template ID
                console.log('üì§ Sending email with template ID:', templateId);
                const response = await emailjs.send(serviceId, templateId, templateParams, publicKey);
                console.log('‚úÖ EmailJS Response:', response);
                
                // Success state with enhanced UI
                button.innerHTML = `
                    <span class="btn-icon">‚ú®</span>
                    <span class="btn-text">Request Sent Successfully!</span>
                    <span class="btn-decoration">‚ú®</span>
                `;
                button.style.background = 'linear-gradient(135deg, #10B981 0%, #059669 100%)';
                
                // Show elegant success banner
                const successBanner = document.getElementById('success-message');
                successBanner.style.display = 'block';
                
                // Scroll to success message smoothly
                successBanner.scrollIntoView({ behavior: 'smooth', block: 'nearest' });
                
                // Hide form temporarily to emphasize success
                form.style.opacity = '0.3';
                form.style.pointerEvents = 'none';
                
                // Reset form
                form.reset();
                
                // Show confetti effect
                createConfetti();
                
                setTimeout(() => {
                    button.innerHTML = `
                        <span class="btn-icon">üé®</span>
                        <span class="btn-text">Send Another Party Request</span>
                        <span class="btn-decoration">‚ú®</span>
                    `;
                    button.disabled = false;
                    button.style.background = '';
                    form.style.opacity = '1';
                    form.style.pointerEvents = 'auto';
                    successBanner.style.display = 'none';
                }, 8000);
                
            } catch (error) {
                console.error('‚ùå Email sending failed:', error);
                console.error('üìã Full error object:', JSON.stringify(error, null, 2));
                console.error('üîç Error details:', {
                    message: error.message,
                    text: error.text,
                    status: error.status,
                    name: error.name,
                    stack: error.stack
                });
                
                // Enhanced error handling
                let errorMessage = 'Failed to send party request. Please contact us directly at creativestage.art@gmail.com or call (604) 789-9523.';
                
                // Specific error handling with more detailed messages
                if (error.message && error.message.includes('EmailJS library not loaded')) {
                    errorMessage = 'Email service not available. Please refresh the page and try again, or contact us directly.';
                } else if (error.message && error.message.includes('configuration')) {
                    errorMessage = 'Email service configuration error. Please contact us directly at creativestage.art@gmail.com';
                } else if (error.text && error.text.includes('Template')) {
                    errorMessage = 'Email template error. Please contact us directly at creativestage.art@gmail.com';
                } else if (error.status === 400) {
                    errorMessage = `Invalid form data (Error 400: ${error.text || 'Bad Request'}). Please check all fields and try again.`;
                } else if (error.status === 401) {
                    errorMessage = `Authentication failed (Error 401: ${error.text || 'Unauthorized'}). Please contact us directly at creativestage.art@gmail.com`;
                } else if (error.status === 403) {
                    errorMessage = `Access denied (Error 403: ${error.text || 'Forbidden'}). Please contact us directly at creativestage.art@gmail.com`;
                } else if (error.status === 404) {
                    errorMessage = `Service not found (Error 404: ${error.text || 'Not Found'}). Please contact us directly at creativestage.art@gmail.com`;
                } else if (error.status === 429) {
                    errorMessage = 'Too many requests. Please wait a moment and try again.';
                }
                
                // Show error message
                alert(`Form Error:\n\n${errorMessage}\n\nCheck browser console (F12) for technical details.`);
                
                // Reset button
                button.innerHTML = originalText;
                button.disabled = false;
                button.style.background = '';
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.disabled = false;
                    button.style.background = '';
                }, 3000);
            }
        }
        
        // Enhanced confetti effect for party bookings
        function createConfetti() {
            const confettiContainer = document.createElement('div');
            confettiContainer.style.cssText = `
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                pointer-events: none;
                z-index: 9999;
            `;
            document.body.appendChild(confettiContainer);
            
            const colors = ['#FF6B6B', '#4ECDC4', '#45B7D1', '#FFA07A', '#98D8C8', '#F7DC6F'];
            const shapes = ['üéâ', 'üé®', 'üåü', '‚ú®', 'üéÇ', 'üéà'];
            
            for (let i = 0; i < 50; i++) {
                const confetti = document.createElement('div');
                const isEmoji = Math.random() > 0.5;
                
                confetti.textContent = isEmoji ? shapes[Math.floor(Math.random() * shapes.length)] : '';
                
                if (!isEmoji) {
                    confetti.style.backgroundColor = colors[Math.floor(Math.random() * colors.length)];
                    confetti.style.width = Math.random() * 10 + 5 + 'px';
                    confetti.style.height = confetti.style.width;
                }
                
                confetti.style.cssText += `
                    position: absolute;
                    left: ${Math.random() * 100}%;
                    top: -20px;
                    font-size: ${Math.random() * 20 + 15}px;
                    opacity: ${Math.random() * 0.6 + 0.4};
                    transform: rotate(${Math.random() * 360}deg);
                    animation: confettiFall ${Math.random() * 3 + 3}s linear forwards;
                `;
                
                confettiContainer.appendChild(confetti);
            }
            
            // Remove confetti container after animation
            setTimeout(() => {
                document.body.removeChild(confettiContainer);
            }, 6000);
        }
        
        // Add confetti animation CSS
        const style = document.createElement('style');
        style.textContent = `
            @keyframes confettiFall {
                0% {
                    transform: translateY(-20px) rotate(0deg);
                    opacity: 1;
                }
                100% {
                    transform: translateY(100vh) rotate(720deg);
                    opacity: 0;
                }
            }
        `;
        document.head.appendChild(style);
    </script>
</body>
</html>